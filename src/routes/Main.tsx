import { useState } from "react";
import { Outlet, NavLink } from "react-router-dom";

export default function Main() {
	const isBrowserDefaultDark = () => window.matchMedia('(prefers-color-scheme: dark)').matches;
	const [theme, setTheme] = useState(isBrowserDefaultDark() ? 1 : 0);

	return (
		<>
			<Outlet context={[theme, setTheme]}/>
			<nav className="tabBar">
				<div className="tabs">
					<NavLink
						className={({ isActive }) => (isActive ? "active" : "")}
						to={"/"}
					>
						<svg
							className="tabIcon"
							viewBox="0 0 24 24"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<g clip-path="url(#clip0_2_4350)">
								<path
									d="M7.8512 14.3984L13.8082 9.52538L6.8844 2.55272C6.20081 1.86912 5.50094 1.5257 4.78479 1.52245C4.06864 1.51919 3.37528 1.85285 2.70471 2.52343L1.40588 3.82225C0.741821 4.49282 0.40979 5.18455 0.40979 5.89745C0.40979 6.61034 0.751587 7.30858 1.43518 7.99218L7.8512 14.3984ZM7.27502 10.2187L3.39807 6.36132C3.31994 6.28319 3.28251 6.19042 3.28577 6.083C3.28902 5.97557 3.32646 5.87954 3.39807 5.79491C3.4762 5.72329 3.5706 5.68911 3.68127 5.69237C3.79195 5.69562 3.87984 5.7298 3.94495 5.79491L7.83167 9.68163C7.90979 9.75975 7.94722 9.84927 7.94397 9.95018C7.94072 10.0511 7.90328 10.1406 7.83167 10.2187C7.75354 10.2969 7.66077 10.3359 7.55334 10.3359C7.44592 10.3359 7.35315 10.2969 7.27502 10.2187ZM8.55432 8.95897L4.68713 5.06249C4.61552 4.99087 4.57808 4.90298 4.57483 4.79882C4.57158 4.69465 4.60901 4.6035 4.68713 4.52538C4.75875 4.45376 4.84827 4.41633 4.95569 4.41307C5.06311 4.40981 5.15588 4.44725 5.23401 4.52538L9.11096 8.39257C9.18257 8.46418 9.21838 8.55532 9.21838 8.666C9.21838 8.77668 9.17932 8.87433 9.1012 8.95897C9.03609 9.02407 8.94657 9.05988 8.83264 9.06639C8.71871 9.0729 8.62593 9.03709 8.55432 8.95897ZM21.2887 23.539L22.4313 22.3965C22.5224 22.3053 22.5631 22.1995 22.5534 22.0791C22.5436 21.9587 22.4964 21.8203 22.4118 21.664L20.6442 18.4121C20.4489 18.0605 20.1722 17.8782 19.8141 17.8652L18.7789 17.8164L13.7106 12.748L11.6598 14.8672L16.6989 19.9062L16.7477 20.9414C16.7477 21.0911 16.7965 21.2425 16.8942 21.3955C16.9919 21.5485 17.1253 21.6673 17.2946 21.7519L20.566 23.539C20.7093 23.6107 20.8411 23.653 20.9616 23.666C21.082 23.679 21.191 23.6367 21.2887 23.539ZM1.93323 22.6894C2.49964 23.2493 3.11324 23.6254 3.77405 23.8174C4.43486 24.0094 5.09566 24.0126 5.75647 23.8271C6.41728 23.6416 7.02437 23.2689 7.57776 22.709C7.93583 22.3509 8.24182 21.9749 8.49573 21.581C8.74964 21.1871 9.00029 20.7575 9.24768 20.292C9.49507 19.8265 9.78641 19.304 10.1217 18.7246C10.457 18.1452 10.8818 17.4925 11.3961 16.7666C11.9104 16.0407 12.5582 15.2204 13.3395 14.3056C14.1208 13.391 15.0843 12.3607 16.2301 11.2148L15.3805 10.3555C14.124 11.612 13.0872 12.7122 12.2702 13.6562C11.4531 14.6002 10.7923 15.4222 10.2877 16.122C9.78316 16.8219 9.37789 17.4355 9.0719 17.9629C8.76591 18.4902 8.50061 18.9622 8.276 19.3789C8.05139 19.7956 7.81376 20.1911 7.56311 20.5654C7.31246 20.9397 6.98531 21.3287 6.58167 21.7324C6.0413 22.2793 5.43421 22.5543 4.76038 22.5576C4.08655 22.5609 3.46643 22.2825 2.90002 21.7226C2.34013 21.1497 2.06018 20.528 2.06018 19.8574C2.06018 19.1868 2.33036 18.5813 2.87073 18.041C3.28088 17.6373 3.67314 17.3102 4.04749 17.0595C4.42184 16.8089 4.81897 16.5713 5.23889 16.3466C5.65881 16.122 6.13082 15.8567 6.65491 15.5507C7.179 15.2448 7.7926 14.8395 8.49573 14.3349C9.19885 13.8304 10.0208 13.1696 10.9616 12.3525C11.9023 11.5354 13.001 10.4987 14.2575 9.24218L13.4078 8.39257C12.262 9.5384 11.2317 10.502 10.317 11.2832C9.40231 12.0644 8.58199 12.7106 7.85608 13.2216C7.13017 13.7327 6.4775 14.1559 5.89807 14.4912C5.31864 14.8265 4.79618 15.1195 4.33069 15.3701C3.8652 15.6208 3.43551 15.8714 3.04163 16.122C2.64775 16.3727 2.27177 16.677 1.9137 17.0351C1.3538 17.595 0.981079 18.2038 0.795532 18.8613C0.609985 19.5189 0.613241 20.1796 0.805298 20.8437C0.997355 21.5078 1.37333 22.123 1.93323 22.6894ZM14.0817 10.5312C14.6416 11.0912 15.2682 11.5143 15.9616 11.8007C16.6549 12.0872 17.3662 12.2386 18.0953 12.2549C18.8245 12.2712 19.5309 12.1491 20.2145 11.8886C20.8981 11.6282 21.5101 11.2279 22.0504 10.6875C22.6363 10.1016 23.0579 9.42446 23.3151 8.65624C23.5722 7.888 23.6601 7.0921 23.5787 6.26854C23.4974 5.44497 23.2386 4.65884 22.8024 3.91014L21.8551 4.86718C22.1286 5.42707 22.2816 6.00487 22.3141 6.60057C22.3466 7.19627 22.2636 7.76919 22.0651 8.31932C21.8665 8.86945 21.5556 9.35611 21.1325 9.77929C20.5791 10.3262 19.9362 10.6843 19.2037 10.8535C18.4713 11.0228 17.7324 11.0033 16.9869 10.7949C16.2415 10.5866 15.5791 10.196 14.9996 9.62304C14.4202 9.0436 14.0263 8.38117 13.818 7.63573C13.6097 6.89029 13.5918 6.14973 13.7643 5.41405C13.9368 4.67837 14.2998 4.0371 14.8532 3.49022C15.4912 2.8522 16.261 2.46971 17.1627 2.34276C18.0644 2.2158 18.9222 2.36066 19.736 2.77733L20.693 1.8203C19.9508 1.3841 19.1696 1.12531 18.3493 1.04393C17.529 0.962551 16.7363 1.05044 15.9713 1.3076C15.2064 1.56477 14.5309 1.98957 13.945 2.58202C13.4046 3.11587 13.0026 3.72459 12.7389 4.40819C12.4752 5.09178 12.3499 5.79653 12.3629 6.52245C12.376 7.24836 12.5257 7.958 12.8121 8.65136C13.0986 9.34471 13.5218 9.97133 14.0817 10.5312ZM17.0407 6.14647L18.486 7.58202C18.8505 7.9466 19.2444 8.13214 19.6676 8.13866C20.0908 8.14517 20.4749 7.9759 20.82 7.63085L22.8707 5.5703L22.0114 4.72069L20.1461 6.56639C19.8532 6.86587 19.5602 6.86587 19.2672 6.56639L18.0758 5.36522C17.7633 5.04621 17.7471 4.74673 18.027 4.46679L19.9118 2.60155L19.0231 1.74218L16.9918 3.78319C16.6273 4.14126 16.4515 4.53189 16.4645 4.95507C16.4775 5.37824 16.6696 5.77537 17.0407 6.14647ZM4.71643 21.1367C5.04846 21.1367 5.33329 21.0179 5.57092 20.7802C5.80855 20.5426 5.92737 20.2578 5.92737 19.9257C5.92737 19.5937 5.80855 19.3105 5.57092 19.0761C5.33329 18.8418 5.04846 18.7246 4.71643 18.7246C4.3844 18.7246 4.10119 18.8418 3.86682 19.0761C3.63245 19.3105 3.51526 19.5937 3.51526 19.9257C3.51526 20.2578 3.63245 20.5426 3.86682 20.7802C4.10119 21.0179 4.3844 21.1367 4.71643 21.1367Z"
									fill="black"
									fill-opacity="0.85"
								/>
							</g>
							<defs>
								<clipPath id="clip0_2_4350">
									<rect
										width="23.1983"
										height="23.4962"
										fill="white"
										transform="translate(0.40979 0.467712)"
									/>
								</clipPath>
							</defs>
						</svg>

						<p className="tabTitle">Utilities</p>
					</NavLink>
					<NavLink
						className={({ isActive }) => (isActive ? "active" : "")}
						to={"/settings"}
					>
						<svg
							className="tabIcon"
							viewBox="0 0 22 21"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<g clip-path="url(#clip0_2_4074)">
								<path
									d="M10.0464 20.4391H11.8433C12.0972 20.4391 12.3121 20.3691 12.4878 20.2291C12.6636 20.0891 12.7775 19.8921 12.8296 19.6383L13.3375 17.4898C13.5263 17.4247 13.7118 17.3564 13.8941 17.2848C14.0764 17.2131 14.2489 17.1382 14.4117 17.0601L16.2964 18.2125C16.5047 18.3427 16.7212 18.398 16.9459 18.3785C17.1705 18.3589 17.3707 18.2613 17.5464 18.0855L18.8062 16.8355C18.982 16.6597 19.0813 16.4547 19.1041 16.2203C19.1268 15.9859 19.0666 15.7645 18.9234 15.5562L17.771 13.691C17.8557 13.5217 17.9322 13.3492 18.0005 13.1734C18.0689 12.9976 18.1324 12.8219 18.191 12.6461L20.3589 12.1285C20.6063 12.0764 20.8 11.9625 20.94 11.7867C21.08 11.6109 21.15 11.396 21.15 11.1422V9.37457C21.15 9.12718 21.08 8.91559 20.94 8.73981C20.8 8.56403 20.6063 8.4501 20.3589 8.39801L18.2105 7.88043C18.1454 7.67861 18.0754 7.48981 18.0005 7.31403C17.9256 7.13824 17.8557 6.97223 17.7906 6.81598L18.9429 4.92145C19.0796 4.71312 19.1399 4.49664 19.1236 4.27203C19.1073 4.04742 19.008 3.84723 18.8257 3.67145L17.5464 2.41168C17.3641 2.24892 17.1688 2.15289 16.9605 2.1236C16.7522 2.0943 16.5406 2.1415 16.3257 2.2652L14.4117 3.44684C14.2554 3.36221 14.0878 3.28408 13.9087 3.21246C13.7297 3.14085 13.5393 3.07249 13.3375 3.00739L12.8296 0.829651C12.7775 0.582255 12.6636 0.386943 12.4878 0.243714C12.3121 0.100484 12.0972 0.0288696 11.8433 0.0288696H10.0464C9.79254 0.0288696 9.5777 0.100484 9.40192 0.243714C9.22614 0.386943 9.10895 0.582255 9.05036 0.829651L8.54254 2.98785C8.35374 3.05296 8.16656 3.12295 7.98102 3.19782C7.79547 3.27269 7.62132 3.35244 7.45856 3.43707L5.56403 2.2652C5.34918 2.1415 5.13596 2.09267 4.92438 2.11871C4.71279 2.14476 4.51585 2.24241 4.33356 2.41168L3.06403 3.67145C2.88173 3.84723 2.78082 4.04742 2.76129 4.27203C2.74176 4.49664 2.80361 4.71312 2.94684 4.92145L4.08942 6.81598C4.02431 6.97223 3.95432 7.13824 3.87946 7.31403C3.80458 7.48981 3.73785 7.67861 3.67926 7.88043L1.53082 8.39801C1.27692 8.4501 1.0816 8.56403 0.944885 8.73981C0.808166 8.91559 0.739807 9.12718 0.739807 9.37457V11.1422C0.739807 11.396 0.808166 11.6109 0.944885 11.7867C1.0816 11.9625 1.27692 12.0764 1.53082 12.1285L3.69879 12.6461C3.75087 12.8219 3.81272 12.9976 3.88434 13.1734C3.95595 13.3492 4.03082 13.5217 4.10895 13.691L2.96637 15.5562C2.82314 15.7645 2.76292 15.9859 2.78571 16.2203C2.80849 16.4547 2.90778 16.6597 3.08356 16.8355L4.33356 18.0855C4.50934 18.2613 4.70953 18.3589 4.93415 18.3785C5.15875 18.398 5.37848 18.3427 5.59333 18.2125L7.46833 17.0601C7.63109 17.1382 7.80361 17.2131 7.9859 17.2848C8.16819 17.3564 8.35374 17.4247 8.54254 17.4898L9.05036 19.6383C9.10895 19.8921 9.22614 20.0891 9.40192 20.2291C9.5777 20.3691 9.79254 20.4391 10.0464 20.4391ZM10.9449 13.6812C10.3134 13.6812 9.73557 13.5249 9.21149 13.2125C8.6874 12.8999 8.27073 12.4816 7.96149 11.9576C7.65224 11.4335 7.49762 10.8557 7.49762 10.2242C7.49762 9.59267 7.65387 9.01813 7.96637 8.50055C8.27887 7.98297 8.69553 7.56793 9.21637 7.25543C9.7372 6.94293 10.3134 6.78668 10.9449 6.78668C11.5764 6.78668 12.1542 6.94293 12.6783 7.25543C13.2024 7.56793 13.619 7.98297 13.9283 8.50055C14.2375 9.01813 14.3921 9.59267 14.3921 10.2242C14.3921 10.8557 14.2375 11.4335 13.9283 11.9576C13.619 12.4816 13.2024 12.8999 12.6783 13.2125C12.1542 13.5249 11.5764 13.6812 10.9449 13.6812Z"
									fill="black"
									fill-opacity="0.85"
								/>
							</g>
							<defs>
								<clipPath id="clip0_2_4074">
									<rect
										width="20.4102"
										height="20.4199"
										fill="white"
										transform="translate(0.739807 0.0288696)"
									/>
								</clipPath>
							</defs>
						</svg>

						<p className="tabTitle">Settings</p>
					</NavLink>
				</div>
			</nav>
		</>
	);
}

